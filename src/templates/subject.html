<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@subject.name</title>
    <link rel="stylesheet" href="/static/common.css">
    <link rel="stylesheet" href="/static/subject.css">

    <link rel="preconnect" href="https://rsms.me/">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
  </head>

  <body>
    <div class="back">
    <a href="/" class="back-button"><svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="feather feather-arrow-left"
        >
          <line x1="19" y1="12" x2="5" y2="12"></line>
          <polyline points="12 19 5 12 12 5"></polyline>
        </svg> Subjects</a>
    </div>
    <h1>@subject.name</h1>

    <div class="search">
      <input type="text" name="search_query" placeholder="Searchâ€¦" autofocus>
    </div>

    <div class="chapter-list">
      @for chap in chapters
        <a class="chapter" href="/subject/@subject.short/chapter/@chap.name/view"
          @if desc := chap.description
            data-chapter-description="@desc"
          @end
          @if keywords := chap.keywords
            data-chapter-keywords="@{keywords.join(' ')}"
          @end
        >
          @if cover := chap.cover
            <div class="cover" style="background-image: url('/raw/@chap.path/@cover')"></div>
          @end

          <span class="chapter-name">@chap.name</span>

          @if keywords := chap.keywords
            <span class="chapter-keywords">@{keywords.join(" ")}</span>
          @end

          @if date := chap.date
            <span class="chapter-date">@date</span>
          @end
        </a>
      @end
    </div>

    <script src="/static/subject_search.js"></script>
  </body>
</html>
